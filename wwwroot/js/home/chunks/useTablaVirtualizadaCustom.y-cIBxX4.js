import{r as e}from"../index.BrPz-MZr.js";import{u as S}from"./Stack.DPLBjCES.js";const x=()=>{const[r,t]=e.useState(null),[o,c]=e.useState(!1),[n,m]=e.useState(null),u=e.useCallback(async(h,l={})=>{c(!0),m(null);try{const f=await(await fetch(h,l)).text();return t(f),f}catch(s){throw m(s),s}finally{c(!1)}},[]);return{data:r,loading:o,error:n,runFetch:u}},z=(r,t,o)=>{const c=e.useRef(null),n=e.useRef(null),m=t&&t.length>2?t.length-2:0,u=e.useMemo(()=>t&&t.length>1?t[0].split("|"):[],[t]),h=e.useMemo(()=>t&&t.length>1?t[1].split("|").map((a,d)=>{const p=Number(a);return[u[d],p]}):[],[t,u]),l=e.useMemo(()=>h.slice(o),[h,o]),s=e.useMemo(()=>l.reduce((a,d)=>a+d[1],0),[l]),f=t&&r.length===t.length?Math.max(0,r.length-2):r.length,b=S({count:f,getScrollElement:()=>n.current,estimateSize:()=>35,measureElement:null,overscan:10});return{totalRegistros:m,titulo:u,cabeceraFiltrada:l,totalWidth:s,rowVirtualizer:b,scrollBarRef:c,tableContainerRef:n,syncScroll:a=>{!n.current||!c.current||window.requestAnimationFrame(()=>{a==="table"?c.current.scrollLeft=n.current.scrollLeft:n.current.scrollLeft=c.current.scrollLeft})}}};export{z as a,x as u};
